{% extends "src/assets/templates/base_index.html" %}

{% block css %}
    <link href="/static/edit_info/edit_info.css" rel="stylesheet" type="text/css"/>
    <link href="/static/src/bootstrap-select/css/bootstrap-select.min.css" rel="stylesheet" type="text/css"/>
{% endblock %}

{% block script %}
    <script src="/static/src/bootstrap-select/js/bootstrap-select.min.js" type="text/javascript"></script>
    <script src="/static/src/bootstrap-select/js/defaults-zh_CN.min.js" type="text/javascript"></script>
    <script src="/static/edit_info/edit_info.js" type="text/javascript"></script>
{% endblock %}


{% block content %}
    <div class="modal fade" id="factory_info_modal" tabindex="-1" role="dialog" aria-labelledby="factory_info_modal_label" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span
                            aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="factory_info_modal_label">工厂信息</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" role="form">
                        <div class="form-group">
                            <label class="col-xs-2 control-label">工厂名称</label>
                            <div class="col-xs-6">
                                <label>
                                    <input id="factory_name" class="form-control">
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-xs-2 control-label">工厂类型</label>
                            <div class="col-xs-6">
                                <select id="factory_type" class="selectpicker" data-live-search="true" data-size="5">
                                    <option value=0>啤酒厂</option>
                                    <option value=1>瓶盖厂</option>
                                    <option value=2>纸箱厂</option>
                                    <option value=3>标签厂</option>
                                    <option value=4>纪念商店</option>
                                    <option value=-1>本地下载</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-xs-2 control-label">工厂IP</label>
                            <div class="col-xs-6">
                                <label>
                                    <input id="factory_ip" class="form-control">
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-xs-2 control-label">工厂区域</label>
                            <div class="col-xs-6">
                                <label>
                                    <input id="factory_region" class="form-control">
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-xs-2 control-label">工厂状态</label>
                            <div class="col-xs-6">
                                <select id="factory_status" class="selectpicker" data-live-search="true" data-size="5">
                                    <option value=1>正常</option>
                                    <option value=0>停产</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-xs-2 control-label">负责人</label>
                            <div class="col-xs-6">
                                <label>
                                    <input id="factory_owner" class="form-control">
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-xs-2 control-label">负责人电话</label>
                            <div class="col-xs-6">
                                <label>
                                    <input type="tel" id="factory_phone" class="form-control">
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-xs-2 control-label">负责人邮箱</label>
                            <div class="col-xs-6">
                                <label>
                                    <input type="email" id="factory_email" class="form-control">
                                </label>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-warning update-btn hidden">提交</button>
                    <button type="button" class="btn btn-primary confirm-btn">提交</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="product_image_modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span
                            aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                </div>
                <div class="modal-body">
                    <img class="text-center modal-image" src="">
                </div>
            </div>
        </div>
    </div>
    <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#company_info" id="company_info_tab" role="tab"
                                   data-toggle="tab" aria-controls="company_info" aria-expanded="true">公司信息</a>
        </li>
        <li role="presentation"><a href="#product_info" id="product_info_tab" role="tab"
                                   data-toggle="tab" aria-controls="product_info" aria-expanded="true">产品信息</a>
        </li>
        <li role="presentation"><a href="#factory_info" id="factory_info_tab" role="tab"
                                                  data-toggle="tab" aria-controls="factory_info" aria-expanded="true">工厂信息</a>
        </li>
    </ul>
    <div id="my_tab_content" class="tab-content">
        <div role="tabpanel" class="tab-pane fade" id="company_info" aria-labelledby="home-tab">
            <form>
                <div class="company-info-detail">
                    <label class="company-label" for="company_name">公司名称</label>
                    <input id="company_name" value="{{ company_name }}">
                </div>
                <div class="company-info-detail">
                    <label class="company-label" for="company_description">公司介绍</label>
                    <textarea id="company_description" spellcheck="true" tabindex="4" rows="10">{{ company_description|default:'' }}</textarea>
                </div>
                <div class="company-info-detail">
                    <label class="company-label" for="company_homepage">公司主页</label>
                    <input id="company_homepage" value="{{ company_homepage|default:'' }}">
                </div>
            </form>
            <div class="tab-footer">
                <button type="button" class="btn btn-primary confirm">
                    提交更改
                </button>
            </div>
        </div>
        <div role="tabpanel" class="tab-pane fade active in" id="product_info" aria-labelledby="home-tab">
            <button type="button" class="btn btn-primary new-product" data-toggle="modal">
                <i class="fa fa-plus" aria-hidden="true"></i> 新建
            </button>
            <table class="table table-hover">
                <thead>
                <tr>
                    <th>操作</th>
                    <th>序号</th>
                    <th>名称</th>
                    <th>条码</th>
                    <th>图标</th>
                    <th>照片</th>
                    <th>简介</th>
                    <th>描述</th>
                    <th>状态</th>
                </tr>
                </thead>
                <tbody>
                    {% for product in product_list %}
                        {% include "edit_info/brief/product.html" with product_id=product.product_id product_name=product.product_name product_barcode=product.product_barcode product_icon=product.product_icon product_images=product.product_images product_intro=product.product_intro product_description=product.product_description product_status=product.product_status %}
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div role="tabpanel" class="tab-pane fade" id="factory_info" aria-labelledby="home-tab">
            <button type="button" class="btn btn-primary new-factory" data-toggle="modal">
                <i class="fa fa-plus" aria-hidden="true"></i> 新建
            </button>
            <table class="table table-hover">
                <thead>
                <tr>
                    <th>操作</th>
                    <th>序号</th>
                    <th>工厂名称</th>
                    <th>工厂类型</th>
                    <th>工厂IP</th>
                    <th>工厂区域</th>
                    <th>状态</th>
                    <th>负责人</th>
                    <th>负责人电话</th>
                    <th>负责人邮箱</th>
                </tr>
                </thead>
                <tbody>
                    {% for factory in factory_list %}
                        {% include "edit_info/brief/factory.html" with factory_id=factory.factory_id factory_name=factory.factory_name factory_type=factory.factory_type factory_ip=factory.factory_ip factory_region=factory.factory_region factory_status=factory.factory_status factory_owner=factory.factory_owner factory_owner_phone=factory.factory_owner_phone factory_owner_email=factory.factory_owner_email %}
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

{% endblock %}